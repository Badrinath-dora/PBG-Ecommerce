<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>PBG Jewellery</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- site icon -->
      <link rel="icon" href="images/fevicon.png" type="image/png" />
      <!-- bootstrap css -->
      <link rel="stylesheet" href="css/bootstrap.min.css" />
      <!-- site css -->
      <link rel="stylesheet" href="style.css" />
      <!-- responsive css -->
      <link rel="stylesheet" href="css/responsive.css" />
      <!-- color css -->
      <link rel="stylesheet" href="css/colors.css" />
      <!-- select bootstrap -->
      <link rel="stylesheet" href="css/bootstrap-select.css" />
      <!-- scrollbar css -->
      <link rel="stylesheet" href="css/perfect-scrollbar.css" />
      <!-- custom css -->
      <link rel="stylesheet" href="css/custom.css" />
      <!-- calendar file css -->
      <link rel="stylesheet" href="js/semantic.min.css" />
      <!-- fancy box js -->
      <link rel="stylesheet" href="css/jquery.fancybox.css" />


      <link rel="stylesheet" href="css/admin.css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
      <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
      <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <style>
        body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
          background-color: #f5f5f5;
        }
        #purchase-details {
          background-color: #fff;
          box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
          border-radius: 8px;
          margin: 20px auto;
          padding: 20px;
          width: 80%;
          max-width: 800px;
        }
        h2 {
          margin-bottom: 20px;
          color: #333;
        }
        .details-section {
          margin-bottom: 20px;
          border-bottom: 1px solid #ddd;
          padding-bottom: 15px;
        }
        .details-label {
          font-weight: bold;
          color: #555;
        }
        .details-value {
          color: #333;
        }
        ul {
          padding-left: 20px;
          list-style-type: none;
          color: #333;
        }
        li {
          margin-bottom: 10px;
          border-left: 2px solid #555;
          padding-left: 10px;
        }
        .go-back {
          margin-top: 15px;
          display: inline-block;
          background-color: #333;
          color: #fff;
          padding: 10px 20px;
          border-radius: 5px;
          text-decoration: none;
        }
      </style>
   </head>
   <body class="inner_page tables_page">
    <div class="full_container">
       <div class="inner_container">
          <!-- Sidebar  -->
          <nav id="sidebar">
            <div class="sidebar_blog_1">
              <div class="sidebar-header">
                 <div class="logo_section" style="background-color:aliceblue; height:83px;width:80px">
                    <center>

                  
                    <a href="index.html"><img class="logo_icon img-responsive" style="height:80px;width:80px" src="images/logo.png" alt="#" /></a>
                 </center>
                 </div>
              </div>
              <div class="sidebar_user_info">
                 <div class="icon_setting"></div>
                 <div class="user_profle_side">
                    <div class="user_info">
                       <h6>PBG Jewellery</h6>
                       
                    </div>
                 </div>
              </div>
           </div>
             <div class="sidebar_blog_2">
                <h4>General</h4>
                <ul class="list-unstyled components">
                   <li class="active">
                      <a href="index.html" ><i class="fa fa-dashboard yellow_color"></i> <span>Dashboard</span></a>
          
                   </li>
                  
                   <li><a href="product.html"><i class="fa fa-table purple_color2"></i> <span>Product Management</span></a></li>
                   <li><a href="category.html"><i class="fa fa-bar-chart-o green_color"></i> <span>Category Management</span></a></li>
                   <li><a href="pincode.html"><i class="fa fa-map orange_color2"></i> <span>PinCode Management</span></a></li>
                   <li><a href="images.html"><i class="fa fa-image orange_color2"></i> <span>Image Management</span></a></li>
                   
                   
                 
                </ul>
             </div>
          </nav>
          <!-- end sidebar -->
          <!-- right content -->
          <div id="content">
             <!-- topbar -->
                 <!-- topbar -->
                 <div class="topbar">
                   <nav class="navbar navbar-expand-lg navbar-light">
                      <div class="full">
                         <button type="button" id="sidebarCollapse" class="sidebar_toggle"><i class="fa fa-bars"></i></button>
                        
                         <div class="right_topbar">
                            <div class="icon_info">
                               <button id="logoutBtn" class="btn btn-success" style="margin: 10px;" >
                                  <i class="material-icons">exit_to_app</i> Logout
                                </button>
          
                            </div>
                         </div>
                      </div>
                   </nav>
                </div>

             <br>
              
  <div id="product-details">
    <!-- Product details will be displayed here -->
</div>


  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
  <script src="config.js"></script>
  <script>

    document.addEventListener("DOMContentLoaded", function () {
      const productId = new URLSearchParams(window.location.search).get('id');
  
      const productDetailsDiv = document.getElementById('product-details');
  
      // Fetch product details using the productId
      db.collection('Products').doc(productId)
          .get()
          .then((doc) => {
              if (doc.exists) {
                  const productData = doc.data();
                  const productDetailsHtml = `
                  <div id="purchase-details">
                    <h2>Product Details</h2>
                    <div class="details-section">
                        <span class="details-label">Product Code:</span>
                        <span class="details-value">${productData['product_code']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Category:</span>
                        <span class="details-value">${productData['category']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Sub Category:</span>
                        <span class="details-value">${productData['sub_cate']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Name:</span>
                        <span class="details-value">${productData['name']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Quantity:</span>
                        <span class="details-value">${productData['quantity']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Weight:</span>
                        <span class="details-value">${productData['weight']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Metal:</span>
                        <span class="details-value">${productData['metal']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Purity:</span>
                        <span class="details-value">${productData['purity']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Gold:</span>
                        <span class="details-value">${productData['gold']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Making Charge:</span>
                        <span class="details-value">${productData['making_charge']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Discount:</span>
                        <span class="details-value">${productData['discount']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Total:</span>
                        <span class="details-value">${productData['total']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">GST:</span>
                        <span class="details-value">${productData['gst']}</span>
                    </div>
                    <div class="details-section">
                        <span class="details-label">Grand Total:</span>
                        <span class="details-value">${productData['grand_total']}</span>
                    </div>
                    <a href="index.html" class="go-back">Go Back</a>
                  </div>
                  `;
                  productDetailsDiv.innerHTML = productDetailsHtml;
              } else {
                  console.log('No matching product found!');
                  productDetailsDiv.innerHTML = '<p>No product details found.</p>';
              }
          })
          .catch((error) => {
              console.log('Error getting product details:', error);
              productDetailsDiv.innerHTML = '<p>Error loading product details.</p>';
          });
    });
  
    document.addEventListener("DOMContentLoaded", function () {
      $('#datatable').on('click', '.view-button', function () {
        const productId = $(this).data('id');
        console.log(productId);
        window.location.href = 'product_details.html?id=' + productId;
    });

      const logoutBtn = document.getElementById("logoutBtn");

      logoutBtn.addEventListener("click", function () {
        // Clear cookies
        const cookies = document.cookie.split("; ");
        for (const cookie of cookies) {
          const [name, value] = cookie.split("=");
      document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
        }

        // Redirect to the login page
        window.location.href = "login.html"; // Replace with the actual login page URL
      });
    });
  </script>

   
  <script src="js/jquery.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <!-- wow animation -->
  <script src="js/animate.js"></script>
  <!-- select country -->
  <script src="js/bootstrap-select.js"></script>
  <!-- owl carousel -->
  <script src="js/owl.carousel.js"></script> 
  <!-- chart js -->
  <script src="js/Chart.min.js"></script>
  <script src="js/Chart.bundle.min.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/analyser.js"></script>
  <!-- nice scrollbar -->
  <script src="js/perfect-scrollbar.min.js"></script>
  <script>
     var ps = new PerfectScrollbar('#sidebar');
  </script>
  <!-- custom js -->
  <script src="js/custom.js"></script>
  <script src="js/chart_custom_style1.js"></script>
  
   </body>
</html>